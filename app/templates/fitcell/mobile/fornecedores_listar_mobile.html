<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Fornecedores</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">

<link rel="stylesheet" href="{{ url_for('static', filename='paginas3.css') }}">

<style>
body{background:#eef4fb;}
.mobile-container{padding:12px;max-width:540px;margin:auto;}
.card-item{background:#fff;border-radius:16px;padding:12px;box-shadow:0 6px 18px rgba(0,0,0,.08);margin-bottom:12px;}
</style>
</head>

<body>

<div class="mobile-container">

{% include "_flash_messages.html" %}

<div class="d-flex justify-content-between align-items-center mb-3">
<strong style="font-size:18px">Fornecedores</strong>
<a href="{{ url_for('routes.home_mobile') }}" class="btn btn-secondary btn-sm">Voltar</a>
</div>

<form method="GET" class="mb-3">
<input type="text" name="busca" value="{{ busca }}" class="form-control"
placeholder="Buscar fornecedor">
</form>

<a href="{{ url_for('routes.fitcell_novo_fornecedor_mobile') }}"
class="btn btn-success w-100 mb-3">
Novo Fornecedor
</a>

{% for f in fornecedores %}

<div class="card-item d-flex justify-content-between align-items-start gap-3">

<div class="flex-fill">

<div class="fw-semibold text-primary">{{ f.nome }}</div>

<small class="text-muted">
{{ f.documento or "-" }}
</small>

{% if f.telefone %}
<div class="mt-1 small">ðŸ“ž {{ f.telefone }}</div>
{% endif %}

</div>

<div class="d-flex flex-column gap-2">

<a href="{{ url_for('routes.fitcell_editar_fornecedor_mobile', id=f.id) }}"
class="btn btn-outline-warning btn-sm">
<i class="fas fa-pen"></i>
</a>

<form method="POST"
action="{{ url_for('routes.fitcell_excluir_fornecedor_mobile', id=f.id) }}"
onsubmit="return confirm('Deseja excluir este fornecedor?')">

<input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

<button class="btn btn-outline-danger btn-sm">
<i class="fas fa-trash"></i>
</button>

</form>

</div>

</div>

{% else %}

<div class="card-item text-center text-muted">
Nenhum fornecedor encontrado.
</div>

{% endfor %}

{% if pagination.pages > 1 %}

<div class="d-flex justify-content-between mt-3">

{% if pagination.has_prev %}
<a class="btn btn-secondary"
href="{{ url_for(request.endpoint,page=pagination.prev_num,busca=busca) }}">Anterior</a>
{% else %}<div></div>{% endif %}

{% if pagination.has_next %}
<a class="btn btn-secondary"
href="{{ url_for(request.endpoint,page=pagination.next_num,busca=busca) }}">PrÃ³xima</a>
{% endif %}

</div>

{% endif %}

</div>

</body>
</html>
