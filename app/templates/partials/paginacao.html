{% if pagination.pages > 1 %}
<nav class="mt-3">
  <ul class="pagination justify-content-center">

    <li class="page-item {% if not pagination.has_prev %}disabled{% endif %}">
      <a class="page-link"
         href="{{ url_for(
           request.endpoint,
           page=pagination.prev_num,
           **request.args.to_dict()
         ) }}">
        «
      </a>
    </li>

    {% for p in pagination.iter_pages(left_edge=1, right_edge=1, left_current=2, right_current=2) %}
      {% if p %}
      <li class="page-item {% if p == pagination.page %}active{% endif %}">
        <a class="page-link"
           href="{{ url_for(
             request.endpoint,
             page=p,
             **request.args.to_dict()
           ) }}">
          {{ p }}
        </a>
      </li>
      {% else %}
      <li class="page-item disabled">
        <span class="page-link">…</span>
      </li>
      {% endif %}
    {% endfor %}

    <li class="page-item {% if not pagination.has_next %}disabled{% endif %}">
      <a class="page-link"
         href="{{ url_for(
           request.endpoint,
           page=pagination.next_num,
           **request.args.to_dict()
         ) }}">
        »
      </a>
    </li>

  </ul>
</nav>
{% endif %}
